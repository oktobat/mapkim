{"version":3,"sources":["MapContainer.js","SearchPlace.js","App.js","index.js"],"names":["kakao","window","MapContainer","searchPlace","useEffect","infowindow","maps","InfoWindow","zIndex","container","document","getElementById","options","center","LatLng","level","map","Map","displayMarker","place","marker","Marker","position","y","x","event","addListener","setContent","place_name","open","services","Places","keywordSearch","data","status","pagination","Status","OK","bounds","LatLngBounds","i","length","extend","setBounds","navigator","geolocation","getCurrentPosition","lat","coords","latitude","lon","longitude","displayMarker1","locPosition","message","iwContent","content","removable","setCenter","id","style","width","height","SearchPlace","useState","inputText","setInputText","elInput","useRef","setPlace","className","onSubmit","e","preventDefault","current","focus","placeholder","onChange","target","value","ref","type","App","ReactDOM","render","StrictMode"],"mappings":"4JACQA,EAAUC,OAAVD,MAmFOE,EAjFM,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,YAyEnB,OAvEAC,qBAAU,WAGP,IAAIC,EAAa,IAAIL,EAAMM,KAAKC,WAAW,CAACC,OAAO,IAC7CC,EAAYC,SAASC,eAAe,SACpCC,EAAU,CACbC,OAAQ,IAAIb,EAAMM,KAAKQ,OAAO,UAAW,YACzCC,MAAO,GAEJC,EAAM,IAAIhB,EAAMM,KAAKW,IAAIR,EAAWG,GAiBzC,SAASM,EAAcC,GAEvB,IAAIC,EAAS,IAAIpB,EAAMM,KAAKe,OAAO,CAC/BL,IAAKA,EACLM,SAAU,IAAItB,EAAMM,KAAKQ,OAAOK,EAAMI,EAAGJ,EAAMK,KAEnDxB,EAAMM,KAAKmB,MAAMC,YAAYN,EAAQ,SAAS,WAC9Cf,EAAWsB,WAAW,4CAA8CR,EAAMS,WAAa,UACvFvB,EAAWwB,KAAKb,EAAKI,MAMzB,IA5Ba,IAAIpB,EAAMM,KAAKwB,SAASC,QAC9BC,cAAc7B,GACjB,SAAyB8B,EAAMC,EAAQC,GACvC,GAAID,IAAWlC,EAAMM,KAAKwB,SAASM,OAAOC,GAAI,CAE3C,IADA,IAAIC,EAAS,IAAItC,EAAMM,KAAKiC,aACnBC,EAAE,EAAGA,EAAEP,EAAKQ,OAAQD,IACzBtB,EAAce,EAAKO,IACnBF,EAAOI,OAAO,IAAI1C,EAAMM,KAAKQ,OAAOmB,EAAKO,GAAGjB,EAAGU,EAAKO,GAAGhB,IAE3DR,EAAI2B,UAAUL,OAmBjBM,UAAUC,YACdD,UAAUC,YAAYC,oBAAmB,SAASxB,GAC9C,IAAIyB,EAAMzB,EAAS0B,OAAOC,SACtBC,EAAM5B,EAAS0B,OAAOG,UAG1BC,EAFkB,IAAIpD,EAAMM,KAAKQ,OAAOiC,EAAKG,GAC/B,wFAGZ,CAIHE,EAHkB,IAAIpD,EAAMM,KAAKQ,OAAO,UAAW,YACrC,uFAIjB,SAASsC,EAAeC,EAAaC,GACrC,IAAIlC,EAAS,IAAIpB,EAAMM,KAAKe,OAAO,CAC/BL,IAAKA,EACLM,SAAU+B,IAEVE,EAAYD,EAEC,IAAItD,EAAMM,KAAKC,WAAW,CACvCiD,QAAUD,EACVE,WAHe,IAKR5B,KAAKb,EAAKI,GACrBJ,EAAI0C,UAAUL,MAEX,CAAClD,IAIA,qBAAKwD,GAAG,QAAQC,MAAO,CACnBC,MAAO,QACPC,OAAQ,YCnDLC,EAzBK,WAAO,IAAD,EACYC,mBAAS,IADrB,mBACfC,EADe,KACJC,EADI,KAEhBC,EAAUC,mBAFM,EAMIJ,mBAAS,IANb,mBAMf7C,EANe,KAMRkD,EANQ,KActB,OACI,gCACI,uBAAMC,UAAU,YAAYC,SATnB,SAACC,GACdA,EAAEC,iBACFJ,EAASJ,GACTC,EAAa,IACbC,EAAQO,QAAQC,SAKZ,UACI,uBAAOC,YAAY,2BAAOC,SAdrB,SAACL,GACdN,EAAaM,EAAEM,OAAOC,QAagCA,MAAOd,EAAWe,IAAKb,IACrE,wBAAQc,KAAK,SAAb,6BAEJ,cAAC,EAAD,CAAc9E,YAAagB,QCfxB+D,EANH,WACV,OACE,cAAC,EAAD,KCAJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3E,SAASC,eAAe,W","file":"static/js/main.a8fd12ae.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nconst { kakao } = window;\r\n\r\nconst MapContainer = ({searchPlace}) => {\r\n    \r\n    useEffect(() => {\r\n\r\n        // 공통부분 (변수이름만)\r\n       let infowindow = new kakao.maps.InfoWindow({zIndex:1});\r\n       const container = document.getElementById('myMap');\r\n       const options = {\r\n          center: new kakao.maps.LatLng(33.450701, 126.570667),\r\n          level: 3 // level 7 -> 3\r\n       };\r\n       const map = new kakao.maps.Map(container, options);\r\n\r\n       // 장소 검색 객체를 생성합니다\r\n        var ps = new kakao.maps.services.Places();\r\n        ps.keywordSearch(searchPlace, placesSearchCB); // 변수명 확인\r\n        function placesSearchCB (data, status, pagination) {\r\n        if (status === kakao.maps.services.Status.OK) {\r\n           var bounds = new kakao.maps.LatLngBounds();\r\n           for (var i=0; i<data.length; i++) {\r\n               displayMarker(data[i]);    \r\n               bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\r\n           }\r\n           map.setBounds(bounds);\r\n         } \r\n       }\r\n\r\n        // 지도에 마커를 표시하는 함수입니다\r\n        function displayMarker(place) {\r\n\r\n        var marker = new kakao.maps.Marker({\r\n            map: map,\r\n            position: new kakao.maps.LatLng(place.y, place.x) \r\n        });\r\n        kakao.maps.event.addListener(marker, 'click', function() {\r\n        infowindow.setContent('<div style=\"padding:5px;font-size:12px;\">' + place.place_name + '</div>');\r\n        infowindow.open(map, marker);\r\n        })\r\n        \r\n       }\r\n\r\n   // 현재위치에 포커싱 시키기 (geolocation으로 마커 표시하기)\r\n    if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(function(position) {\r\n        var lat = position.coords.latitude, // 위도\r\n            lon = position.coords.longitude; // 경도\r\n        var locPosition = new kakao.maps.LatLng(lat, lon),\r\n            message = '<div style=\"padding:5px;\">여기에 계신가요?!</div>';\r\n        displayMarker1(locPosition, message);   // 함수 이름 바꾸기 \r\n      });    \r\n   } else {\r\n       var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    \r\n           message = '현재 위치를 사용할 수 없습니다.'\r\n           \r\n       displayMarker1(locPosition, message);\r\n   }\r\n    function displayMarker1(locPosition, message) {\r\n    var marker = new kakao.maps.Marker({  \r\n        map: map, \r\n        position: locPosition\r\n    });\r\n    var iwContent = message,\r\n        iwRemoveable = true;\r\n    var infowindow = new kakao.maps.InfoWindow({\r\n        content : iwContent,\r\n        removable : iwRemoveable\r\n    });\r\n    infowindow.open(map, marker);\r\n    map.setCenter(locPosition);      \r\n   }    \r\n    }, [searchPlace]);\r\n \r\n\r\n    return (\r\n        <div id='myMap' style={{\r\n            width: '500px', \r\n            height: '500px'\r\n        }}></div>\r\n    );\r\n}\r\n\r\nexport default MapContainer;","import React, { useState, useRef } from 'react';\r\nimport MapContainer from './MapContainer';\r\n\r\nconst SearchPlace = () => {\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const elInput = useRef()\r\n    const onChange = (e) => {\r\n        setInputText(e.target.value)\r\n    }\r\n    const [place, setPlace] = useState(\"\");\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        setPlace(inputText);\r\n        setInputText(\"\");\r\n        elInput.current.focus();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"inputForm\" onSubmit={onSubmit}>\r\n                <input placeholder=\"장소검색\" onChange={onChange} value={inputText} ref={elInput}  />\r\n                <button type=\"submit\">검색</button>\r\n            </form>\r\n            <MapContainer searchPlace={place} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPlace;","import React from 'react';\nimport SearchPlace from './SearchPlace';\nconst App = () => {\n  return (\n    <SearchPlace />\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}